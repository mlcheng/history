"use strict";var iqwerty=iqwerty||{};iqwerty.history=function(){function t(){return window.location.pathname}function n(){var t=window.location.hash;return"/"===t.substr(-1)&&(t=t.substring(0,t.length-1)),t}function e(t,n){this.state=t,this.$$length=n}function r(e,r,i){return e=t()+u+e,r=r||document.title,i=i||null,window.history.pushState?(window.history.pushState(i,r,e),void o(n())):console.error("History API not supported")}function i(t){e.prototype.states=t,o(s(t)),window.addEventListener("hashchange",function(){o(n())})}function o(t){var r=e.prototype.states,i=s(r);if(i){var o=i.state.split(":")[0];o=n().split(o)[1],r[i.state](o||null)}}function s(t){var r=Object.keys(t).map(function(t){if(""===t)return new e(t,0);var r=u+t.split(":")[0],i=0===n().indexOf(r)?r.length-u.length:-1;return new e(t,i)}).reduce(function(t,n){return-1===t.$$length?null:t.$$length>=n.$$length?t:n});return n()&&0===r.$$length?(console.warn("Current state is unhandled"),null):r}var u="#!/";return e.prototype.states={},{Push:r,HandleStates:i}}();