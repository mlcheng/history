"use strict";var iqwerty=iqwerty||{};iqwerty.history=function(){function t(t,n){this.state=t,this.$$length=n}function n(t,n,e){return t=i()+a+t,n=n||document.title,e=e||null,window.history.pushState?void(u()!==t&&(window.history.pushState(e,n,t),r(s()))):console.error("History API not supported")}function e(n){t.prototype.states=n,r(o(n)),window.addEventListener("popstate",function(){r(s())})}function r(n){var e=t.prototype.states,r=o(e);if(r){var i=r.state.split(":")[0];i=s().split(i)[1],e[r.state](i||null)}}function o(n){var e=Object.keys(n).map(function(n){if(""===n)return new t(n,0);var e=a+n.split(":")[0],r=0===s().indexOf(e)?e.length-a.length:-1;return new t(n,r)}).reduce(function(t,n){return-1===t.$$length?null:t.$$length>=n.$$length?t:n});return s()&&0===e.$$length?(console.warn("Current state is unhandled"),null):e}function i(){return window.location.pathname}function s(){var t=window.location.hash;return"/"===t.substr(-1)&&(t=t.substring(0,t.length-1)),t}function u(){return i()+s()}var a="#!/";return t.prototype.states={},{Push:n,States:e}}();